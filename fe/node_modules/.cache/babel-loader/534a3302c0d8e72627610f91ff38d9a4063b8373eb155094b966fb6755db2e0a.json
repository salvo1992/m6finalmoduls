{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from 'react';\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { jwtDecode } from \"jwt-decode\";\nconst useSession = () => {\n  _s();\n  const session = JSON.parse(localStorage.getItem('auth'));\n  const decodedSession = session ? jwtDecode(session) : null;\n  const location = useLocation();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (!session) {\n      navigate('/', {\n        replace: true\n      });\n    }\n    if (session && location.pathname !== '/') {\n      return;\n    }\n    navigate('/home', {\n      replace: true\n    });\n  }, [navigate, session]);\n  return decodedSession;\n};\n_s(useSession, \"fPjCxODVr6jVvib6o2c9VLE4s84=\", false, function () {\n  return [useLocation, useNavigate];\n});\nexport default useSession;","map":{"version":3,"names":["useEffect","useLocation","useNavigate","jwtDecode","useSession","_s","session","JSON","parse","localStorage","getItem","decodedSession","location","navigate","replace","pathname"],"sources":["C:/Users/user/Documents/GitHub/m6finalmoduls/fe/src/hooks/useSession.js"],"sourcesContent":["import {useEffect} from 'react';\r\nimport {useLocation, useNavigate} from \"react-router-dom\";\r\nimport { jwtDecode } from \"jwt-decode\";\r\n\r\nconst useSession = () => {\r\n    const session = JSON.parse(localStorage.getItem('auth'));\r\n    const decodedSession = session ? jwtDecode(session) : null;\r\n\r\n    const location = useLocation()\r\n    const navigate = useNavigate()\r\n\r\n    useEffect(() => {\r\n        if (!session) {\r\n            navigate('/', {replace: true})\r\n        }\r\n\r\n        if (session && location.pathname !== '/'){\r\n            return;\r\n        }\r\n        navigate('/home', {replace: true})\r\n\r\n    }, [navigate, session]);\r\n\r\n    return decodedSession;\r\n};\r\n\r\nexport default useSession;\r\n"],"mappings":";AAAA,SAAQA,SAAS,QAAO,OAAO;AAC/B,SAAQC,WAAW,EAAEC,WAAW,QAAO,kBAAkB;AACzD,SAASC,SAAS,QAAQ,YAAY;AAEtC,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrB,MAAMC,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EACxD,MAAMC,cAAc,GAAGL,OAAO,GAAGH,SAAS,CAACG,OAAO,CAAC,GAAG,IAAI;EAE1D,MAAMM,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAC9B,MAAMY,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAE9BF,SAAS,CAAC,MAAM;IACZ,IAAI,CAACM,OAAO,EAAE;MACVO,QAAQ,CAAC,GAAG,EAAE;QAACC,OAAO,EAAE;MAAI,CAAC,CAAC;IAClC;IAEA,IAAIR,OAAO,IAAIM,QAAQ,CAACG,QAAQ,KAAK,GAAG,EAAC;MACrC;IACJ;IACAF,QAAQ,CAAC,OAAO,EAAE;MAACC,OAAO,EAAE;IAAI,CAAC,CAAC;EAEtC,CAAC,EAAE,CAACD,QAAQ,EAAEP,OAAO,CAAC,CAAC;EAEvB,OAAOK,cAAc;AACzB,CAAC;AAACN,EAAA,CApBID,UAAU;EAAA,QAIKH,WAAW,EACXC,WAAW;AAAA;AAiBhC,eAAeE,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}